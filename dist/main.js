"use strict";(()=>{function $({r:t=0,R:n=0,d:i=0,angle:r=0}={}){let e=n-t,l=r/180*Math.PI;return{x:e*Math.cos(l)+i*Math.cos(e/t*l),y:e*Math.sin(l)+i*Math.sin(e/t*l)}}var c=class{constructor({r:n=70,d:i=35,R:r=20,angle:e=0,saturation:l=100,lightness:x=50,alpha:I=.2,colorType:v=1,step:q=1,fps:_=60,scale:C=1,cnvs:p}){this.calcCoords=()=>{let{x:n,y:i}=$({r:this.r,R:this.R,d:this.d,angle:this.angle});this.x=n,this.y=i,this.angle+=this.step};this.render=()=>{this.ctx!==null&&(this.ctx.beginPath(),this.ctx.arc(this.x+this.cnvs.width/2,this.y+this.cnvs.height/2,5,0,Math.PI*2),this.ctx.fillStyle=this.hsla,this.ctx.fill(),this.colorType==1&&(this.hsla=`hsla(${this.angle}, ${this.saturation}%, ${this.lightness}%, ${this.alpha})`))};this.clear=()=>{var n;return(n=this.ctx)==null?void 0:n.clearRect(0,0,this.cnvs.width,this.cnvs.height)};this.scale=C,this.r=n*this.scale,this.d=i*this.scale,this.R=r*this.scale,this.angle=e,this.x=0,this.y=0,this.saturation=l,this.lightness=x,this.alpha=I,this.hsla=`hsla(${this.angle}, ${this.saturation}%, ${this.lightness}%, ${this.alpha})`,this.colorType=v,this.step=q,this.fps=_,this.cnvs=p,this.ctx=p.getContext("2d")}};var a=document.querySelector("#cnvs"),D=a==null?void 0:a.getContext("2d");if(!a)throw new Error("No canvas");a.width=innerWidth;a.height=innerHeight;a.style.width=innerWidth.toString();a.style.height=innerHeight.toString();var s=new c({cnvs:a,fps:120,step:1,scale:2}),u;function H(){u!==void 0&&clearInterval(u),u=setInterval(()=>{s.calcCoords(),s.render()},1e3/s.fps)}H();var o=document.querySelector(".settings-container"),d=document.querySelector("#tab-btn"),m=document.querySelector("#clear-btn"),g=document.querySelector("#spirographSpeed"),P=document.querySelector("#scale"),y=document.querySelector("#radiusR"),S=document.querySelector("#radius"),f=document.querySelector("#distanceR"),M=document.querySelector("#distance"),T=document.querySelector("#RadiusR"),E=document.querySelector("#Radius"),L=document.querySelector("#spirographStepR"),R=document.querySelector("#spirographStep"),b=document.querySelector("#spirographColor");d&&(d.onclick=()=>{(o==null?void 0:o.style.display)==="none"?o.style.display="flex":o&&(o.style.display="none")});m&&(m.onclick=s.clear);g&&(g.onchange=t=>{s.fps=+t.target.value,H()});function h(t,n,i){t.addEventListener("input",r=>{if(r.target instanceof HTMLInputElement){let e=+r.target.value;s[i]=e*s.scale,n.value=e.toString()}}),n.addEventListener("change",r=>{if(r.target instanceof HTMLInputElement){let e=+r.target.value;s[i]=e*s.scale,t.value=e.toString()}})}y&&S&&h(y,S,"r");f&&M&&h(f,M,"d");T&&E&&h(T,E,"R");L&&R&&h(L,R,"step");b&&(b.onchange=t=>{t.target instanceof HTMLInputElement&&(s.hsla=t.target.value,s.colorType=2)});})();
//# sourceMappingURL=main.js.map
